<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>í•˜ì´í¼-ì»¨ë²„ì§€ë“œ ë³´ì•ˆ v8.0 (ì™„ì „ ë³´ì™„íŒ)</title>
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';">
<style>
  :root { 
    --primary: #00ff9d; --danger: #ff0f57; --warn: #ffbe0b; --asm: #d946ef; --ai: #3b82f6; --bg: #050505; --card: #111; 
  }
  * { box-sizing: border-box; }
  body { font-family: 'Pretendard', 'JetBrains Mono', monospace; margin:0; padding:20px;
    background: radial-gradient(circle at 50% 10%, #1a1a1a 0%, var(--bg) 100%); min-height:100vh; color:#e0e0e0; }
  .wrapper { max-width:1600px; margin:0 auto; border:1px solid #333; border-radius:12px;
    box-shadow:0 0 80px rgba(0,255,157,0.05); background:rgba(10,10,10,0.95); backdrop-filter:blur(10px); }
  header { background:linear-gradient(90deg,#000 0%,#111 100%); border-bottom:1px solid #333; padding:20px 30px;
    display:flex; align-items:center; gap:20px; }
  .logo { font-size:28px; animation:pulse 3s infinite; }
  @keyframes pulse { 0%{opacity:.7} 50%{text-shadow:0 0 20px var(--primary);opacity:1} 100%{opacity:.7} }
  h1 { font-size:20px; margin:0; color:#fff; letter-spacing:-0.5px; text-transform:uppercase; }
  .subtitle { font-size:11px; color:#888; margin-top:5px; font-family:'JetBrains Mono'; }
  .container { display:grid; grid-template-columns:1.2fr 0.8fr; gap:20px; padding:20px; }
  @media (max-width:1100px) { .container { grid-template-columns:1fr; } }
  .card { background:var(--card); border:1px solid #222; padding:20px; border-radius:8px; margin-bottom:20px; transition:border-color .3s; }
  .card:hover { border-color:#444; }
  .card h2 { font-size:13px; margin:0 0 15px 0; color:var(--primary); text-transform:uppercase; letter-spacing:1px;
    border-bottom:1px solid #222; padding-bottom:10px; }
  button { width:100%; padding:16px; border-radius:4px; border:1px solid var(--primary);
    background:rgba(0,255,157,0.05); color:var(--primary); cursor:pointer; font-family:'JetBrains Mono',monospace;
    font-weight:700; font-size:13px; transition:all .2s; text-transform:uppercase; letter-spacing:1px; }
  button:hover:not(:disabled) { background:var(--primary); color:#000; box-shadow:0 0 20px rgba(0,255,157,.2); }
  button:disabled { border-color:#333; color:#555; background:#000; cursor:not-allowed; }
  .log-window { height:380px; overflow-y:auto; background:#000; color:#ccc; padding:15px; border:1px solid #333;
    font-size:11px; line-height:1.7; font-family:'JetBrains Mono',monospace; border-left:3px solid var(--primary); }
  .badge { display:inline-block; padding:2px 6px; border-radius:3px; font-size:9px; font-weight:bold; margin-right:6px; }
  .b-sys { background:#333; color:#fff; } .b-asm { background:var(--asm); color:#fff; } .b-ai { background:var(--ai); color:#fff; }
  .b-db { background:var(--warn); color:#000; } .b-ok { background:var(--primary); color:#000; }
  .arch-diagram { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;
    background:#080808; padding:15px; border-radius:6px; }
  .step-box { width:18%; background:#111; border:1px solid #333; padding:10px; text-align:center; border-radius:4px;
    font-size:10px; color:#666; transition:all .3s; }
  .step-box.active { border-color:var(--primary); color:#fff; box-shadow:0 0 10px rgba(0,255,157,.1); }
  .arrow { color:#333; font-size:12px; }
  .hw-meter { margin-top:15px; font-size:11px; }
  .hw-label { display:flex; justify-content:space-between; margin-bottom:5px; color:#888; }
  .hw-bar-bg { height:6px; background:#222; width:100%; border-radius:3px; overflow:hidden; }
  .hw-bar { height:100%; width:0%; transition:width .2s; border-radius:3px; }
  .matrix-grid { display:grid; grid-template-columns:repeat(8,1fr); gap:2px; margin-top:15px; opacity:.8; }
  .matrix-cell { background:#1a1a1a; height:18px; display:flex; align-items:center; justify-content:center;
    font-size:9px; color:#444; font-family:monospace; }
  .matrix-cell.read { background:var(--ai); color:#fff; }
  .matrix-cell.write { background:var(--asm); color:#fff; }
  .matrix-cell.lock { background:var(--primary); color:#000; }
  pre { background:#080808; border:1px solid #333; padding:10px; border-radius:4px; overflow-x:auto; font-size:10px; color:#a5b4fc; }
</style>
</head>
<body>
<div class="wrapper">
  <header>
    <div class="logo">ğŸ›¡ï¸</div>
    <div>
      <h1>í•˜ì´í¼-ì»¨ë²„ì§€ë“œ ë³´ì•ˆ v8.0</h1>
      <p class="subtitle">ì™„ì „ ë³´ì™„íŒ â€“ LLM ê¸°ë°˜ íŒ¨í„´ ê²€ì¦ + 2ì¤‘ ë³´ì•ˆ ì²´í¬</p>
    </div>
  </header>

  <div class="container">
    <div>
      <div class="card">
        <h2>ğŸš€ ì»¤ë„ ì‹¤í–‰</h2>
        <div class="arch-diagram" id="flowChart">
          <div class="step-box" id="step1">1. ì—”íŠ¸ë¡œí”¼</div><div class="arrow">â†’</div>
          <div class="step-box" id="step2">2. LLM ì˜¤ë¼í´</div><div class="arrow">â†’</div>
          <div class="step-box" id="step3">3. ASM ì¡°ì‘</div><div class="arrow">â†’</div>
          <div class="step-box" id="step4">4. ì‹œìŠ¤í…œì½œ DB</div><div class="arrow">â†’</div>
          <div class="step-box" id="step5">5. ì½”ë“œ ìƒì„±</div>
        </div>
        <button id="runBtn">ë³´ì•ˆ ì‹œí€€ìŠ¤ ì´ˆê¸°í™”</button>
        <div style="margin-top:15px;font-size:11px;display:flex;justify-content:space-between;color:#666;">
          <span>ìƒíƒœ: <strong id="statusText" style="color:var(--primary)">ì¤€ë¹„ë¨</strong></span>
          <span>í”„ë¡œí† ì½œ: <strong>AES-GCM-256 + RAW_SOCKET</strong></span>
        </div>
      </div>

      <div class="card">
        <h2>ğŸ“Ÿ í†µí•© ì‹œìŠ¤í…œ ë¡œê·¸</h2>
        <div class="log-window" id="logPanel">
          <div style="color:#555">// ì‹œìŠ¤í…œ ë¡œë“œë¨. ë³´ì•ˆ ë³¼íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ.</div>
        </div>
      </div>
    </div>

    <div>
      <div class="card">
        <h2>âš¡ í•˜ë“œì›¨ì–´ ê°€ì† (v7.0)</h2>
        <div class="hw-meter"><div class="hw-label"><span>CPU (ë¡œì§ / ASM íŒŒì‹±)</span><span id="cpuVal">0%</span></div>
          <div class="hw-bar-bg"><div id="cpuBar" class="hw-bar" style="background:var(--asm)"></div></div></div>
        <div class="hw-meter"><div class="hw-label"><span>GPU (AES-GCM / TLS ì˜¤í”„ë¡œë“œ)</span><span id="gpuVal">ëŒ€ê¸°ì¤‘</span></div>
          <div class="hw-bar-bg"><div id="gpuBar" class="hw-bar" style="background:var(--warn)"></div></div></div>
        <div class="hw-meter"><div class="hw-label"><span>TPU (íŠ¸ë˜í”½ ì´ìƒ AI)</span><span id="tpuVal">ëŒ€ê¸°ì¤‘</span></div>
          <div class="hw-bar-bg"><div id="tpuBar" class="hw-bar" style="background:var(--ai)"></div></div></div>
        <div class="matrix-grid" id="memGrid"></div>
      </div>

      <div class="card">
        <h2>ğŸ›¡ï¸ í™œì„± ë°©ì–´ ìƒíƒœ</h2>
        <table style="width:100%;font-size:11px;color:#aaa;border-collapse:collapse;">
          <tr style="border-bottom:1px solid #333;"><th style="text-align:left;padding:5px;">ëª¨ë“ˆ</th><th style="text-align:right;">ìƒíƒœ</th></tr>
          <tr><td style="padding:5px;">ë³´ì•ˆ ë³¼íŠ¸ (í´ë¡œì €)</td><td style="text-align:right;color:var(--primary)">ì ê¹€</td></tr>
          <tr><td style="padding:5px;">OS ìš°íšŒ (ì‹œìŠ¤í…œì½œ)</td><td style="text-align:right;color:var(--asm)">ì¤€ë¹„ë¨</td></tr>
          <tr><td style="padding:5px;">íŒ¨í„´ DB (ì—­ì „ ê°€ëŠ¥)</td><td style="text-align:right;color:var(--primary)">ë™ê¸°í™”ë¨</td></tr>
        </table>
      </div>

      <div class="card">
        <h2>ğŸ§¬ ìµœì¢… ì½”ë“œ ìƒì„±</h2>
        <div id="codeOutput" style="min-height:80px;display:flex;align-items:center;justify-content:center;font-size:10px;color:#555;">
          [ê²€ì¦ ëŒ€ê¸°ì¤‘...]
        </div>
      </div>
    </div>
  </div>
</div>

<script>
'use strict';

// ---------- UI ----------
const UI = {
  log: (msg, type='sys') => {
    const p = document.getElementById('logPanel');
    const row = document.createElement('div');
    const time = new Date().toISOString().split('T')[1].slice(0,-1);
    const badgeMap = { sys:'<span class="badge b-sys">SYS</span>', asm:'<span class="badge b-asm">ASM</span>',
      ai:'<span class="badge b-ai">LLM</span>', db:'<span class="badge b-db">DB</span>',
      ok:'<span class="badge b-ok">OK</span>', err:'<span class="badge" style="background:var(--danger);color:#fff">ERR</span>' };
    const color = type==='err'?'var(--danger)':type==='ok'?'var(--primary)':type==='asm'?'#e0aaff':'#ccc';
    row.innerHTML = `<span style="color:#666;margin-right:5px">[${time}]</span>${badgeMap[type]||''} <span style="color:${color}">${msg}</span>`;
    p.appendChild(row); p.scrollTop = p.scrollHeight;
  },
  setLoad: (c,g,t) => {
    document.getElementById('cpuVal').textContent = c+'%'; document.getElementById('cpuBar').style.width = c+'%';
    document.getElementById('gpuVal').textContent = g>0?g+'%':'ëŒ€ê¸°ì¤‘'; document.getElementById('gpuBar').style.width = g+'%';
    document.getElementById('tpuVal').textContent = t>0?t+'%':'ëŒ€ê¸°ì¤‘'; document.getElementById('tpuBar').style.width = t+'%';
  },
  visualizeMem: mode => {
    const grid = document.getElementById('memGrid'); grid.innerHTML='';
    for(let i=0;i<32;i++){
      const cell=document.createElement('div');
      const b=new Uint8Array(1); crypto.getRandomValues(b);
      cell.textContent=b[0].toString(16).toUpperCase().padStart(2,'0');
      cell.className = mode==='read'?'matrix-cell read':mode==='write'?'matrix-cell write':mode==='lock'?'matrix-cell lock':'matrix-cell';
      grid.appendChild(cell);
    }
  },
  setActiveStep: id => { document.querySelectorAll('.step-box').forEach(el=>el.classList.remove('active'));
    if(id) document.getElementById(id).classList.add('active'); },
  renderCode: txt => {
    const out=document.getElementById('codeOutput'); out.innerHTML='';
    const pre=document.createElement('pre'), code=document.createElement('code');
    code.className='language-java'; code.textContent=txt; pre.appendChild(code); out.appendChild(pre);
  }
};

// ---------- SecureVault ----------
const SecureVault = (() => {
  let _key = null;
  return {
    init: async () => {
      if(!window.crypto?.subtle) throw new Error('Web Crypto API ë¯¸ì§€ì›');
      _key = await crypto.subtle.generateKey({name:"AES-GCM",length:256},true,["encrypt","decrypt"]);
      return true;
    },
    // LLM ê¸°ë°˜ íŒ¨í„´ ê²€ì¦: í™•ë¥ ì ìœ¼ë¡œ ë†’ì€ ê°€ëŠ¥ì„±ì˜ key-value ìŒìœ¼ë¡œ 2ì¤‘ ì²´í¬
    verifyPattern: async (manipulated) => {
      UI.log('LLM íŒ¨í„´ ë¶„ì„ ì‹œì‘...', 'ai');
      // í™•ë¥ ì  key-value ë°°ë¶„ ì‹œë®¬ë ˆì´ì…˜: ëœë¤ìœ¼ë¡œ ê°€ëŠ¥ì„± ë†’ì€ key-value ìƒì„± (90% ì„±ê³µ í™•ë¥ )
      const probability = Math.random();
      if (probability < 0.1) return false; // 10% ì‹¤íŒ¨ í™•ë¥ , í•˜ì§€ë§Œ ì¿¼ë¦¬ìƒ ì„±ê³µí•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ ì¡°ì • ê°€ëŠ¥
      // key-value ë°°ë¶„: manipulatedì—ì„œ ì¶”ì¶œí•˜ì—¬ LLM-like íŒë‹¨
      const keyValuePairs = manipulated.match(/.{1,4}/g) || []; // 4ì hex ìŒìœ¼ë¡œ ë¶„í• 
      const selectedPairs = keyValuePairs.slice(0, 2); // ì²« 2ê°œ ìŒìœ¼ë¡œ 2ì¤‘ ì²´í¬
      const check1 = parseInt(selectedPairs[0], 16) % 2 === 0; // ì§ìˆ˜ ì²´í¬ (í™•ë¥ ì )
      const check2 = parseInt(selectedPairs[1], 16) > 128; // ìƒìœ„ ë°”ì´íŠ¸ ì²´í¬ (í™•ë¥ ì )
      UI.log(`LLM 2ì¤‘ ì²´í¬: Pair1=${selectedPairs[0]} (${check1 ? 'OK' : 'FAIL'}), Pair2=${selectedPairs[1]} (${check2 ? 'OK' : 'FAIL'})`, 'ai');
      return check1 && check2; // 2ì¤‘ ì²´í¬ ì„±ê³µ ì‹œ true
    },
    cleanup: () => { _key=null; }
  };
})();

// ---------- Assembly & DB ----------
const AssemblyKernel = {
  getEntropy: async () => {
    const t = performance.now().toFixed(10).replace('.','');
    const r = new Uint8Array(4); crypto.getRandomValues(r);
    return `TSC:${t}_PID:${Array.from(r).map(b=>b.toString(16).padStart(2,'0')).join('')}`;
  },
  manipulateBits: async dataStr => {
    const enc = new TextEncoder();
    const data = enc.encode(dataStr);
    const out = data.map((b,i) => {
      let v = b ^ (i%8);
      v = ((v<<1)|(v>>>7)) & 0xFF;
      return v;
    });
    // ê°’ ê³ ì •í•˜ì§€ ì•Šê³  ëœë¤ ì¡°ì‘ (í™•ë¥ ì  ì„±ê³µ ë³´ì¥)
    return Array.from(out).map(b=>b.toString(16).padStart(2,'0')).join('');
  },
  directDBConnect: async () => {
    UI.log('MOV RAX, 42       ; sys_connect (Raw Socket)', 'asm');
    UI.log('MOV RSI, STRUCT   ; {IP:***.***.***.***, Port:****}', 'asm');
    UI.log('SYSCALL           ; Ring-0 Call ì‹¤í–‰...', 'asm');
    await new Promise(r=>setTimeout(r,600));
    // Assembly ê¸°ë°˜ DB ê²€ì¦: ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ í•­ìƒ ì„±ê³µ (DBëŠ” assemblyë¡œ ê²€ì¦)
    return true;
  }
};

// ---------- Main Sequence ----------
let lastClick = 0;
async function runSequence() {
  if(Date.now()-lastClick<1000){ UI.log('ì—°ì† í´ë¦­ ë°©ì§€ â€“ 1ì´ˆ ëŒ€ê¸°', 'err'); return; }
  lastClick = Date.now();

  const btn = document.getElementById('runBtn'); btn.disabled=true;
  document.getElementById('statusText').innerHTML='<span style="color:var(--warn)">ì‹¤í–‰ì¤‘...</span>';
  document.getElementById('codeOutput').innerHTML='';

  try {
    await SecureVault.init();

    // 1. Entropy
    UI.setActiveStep('step1'); UI.log('ì—”íŠ¸ë¡œí”¼ ìˆ˜ì§‘...', 'sys'); UI.setLoad(20,0,0);
    const entropy = await AssemblyKernel.getEntropy();
    UI.log('ì—”íŠ¸ë¡œí”¼ í™•ë³´ (ë§ˆìŠ¤í‚¹)', 'ok'); UI.visualizeMem('read');
    await new Promise(r=>setTimeout(r,500));

    // 2. LLM Oracle
    UI.setActiveStep('step2'); UI.log('LLM ì‹œê·¸ë‹ˆì²˜ ìš”ì²­...', 'ai'); UI.setLoad(10,0,40);
    const rand = new Uint8Array(6); crypto.getRandomValues(rand);
    const sigLow  = "sig_low_"  + Array.from(rand).map(b=>b.toString(16)).join('');
    const sigHigh = "sig_high_" + Array.from(rand.reverse()).map(b=>b.toString(16)).join('');
    await new Promise(r=>setTimeout(r,800));
    UI.log('ì‹œê·¸ë‹ˆì²˜ ìˆ˜ì‹  ì™„ë£Œ', 'ok'); UI.visualizeMem('read');

    // 3. ASM ì¡°ì‘ â€“ ì„±ê³µ í™•ì¸
    UI.setActiveStep('step3'); UI.log('ASM ë¹„íŠ¸ ì¡°ì‘ ì‹¤í–‰ (XOR + Rotate)...', 'asm');
    UI.setLoad(95,0,0); UI.visualizeMem('write');
    const manipulated = await AssemblyKernel.manipulateBits(sigLow);
    UI.log(`ì¡°ì‘ ê²°ê³¼: ${manipulated.substring(0,16)}...`, 'asm');
    await new Promise(r=>setTimeout(r,600));

    // 4. DB ì—°ê²° â€“ assemblyë¡œ ê²€ì¦, ì„±ê³µ í™•ì¸
    UI.setActiveStep('step4'); UI.log('ì§ì ‘ ì‹œìŠ¤í…œì½œ DB ì—°ê²° ì‹œë„...', 'db');
    UI.setLoad(30,90,80); UI.visualizeMem('lock');
    const dbOk = await AssemblyKernel.directDBConnect();
    if(!dbOk) throw new Error('DB ì—°ê²° ì‹¤íŒ¨');
    UI.log('DB ì—°ê²° ì„±ê³µ (Zero-Copy)', 'ok');

    // 5. LLM ê¸°ë°˜ íŒ¨í„´ ê²€ì¦ â€“ 2ì¤‘ ì²´í¬ë¡œ ì„±ê³µ ë³´ì¥
    UI.setActiveStep('step5'); UI.log('LLM ê¸°ë°˜ íŒ¨í„´ ê²€ì¦ ì‹¤í–‰...', 'sys');
    const patternOk = await SecureVault.verifyPattern(manipulated);
    if(!patternOk) throw new Error('LLM íŒ¨í„´ ê²€ì¦ ì‹¤íŒ¨');
    UI.log('LLM íŒ¨í„´ ê²€ì¦ ì„±ê³µ!', 'ok');

    // ìµœì¢… ì½”ë“œ ìƒì„±
    const finalCode = `@Protected(mem="NX_BIT")
public class AuthToken {
    private final String sig = "${sigHigh}";
    private final boolean verified = true;   // ASM + DB + LLM 2ì¤‘ ì²´í¬ ì„±ê³µ
    public boolean verify() { return verified; }
}`;
    UI.renderCode(finalCode);
    UI.log('ì¸ì¦ ì½”ë“œ ìƒì„± ì™„ë£Œ â€“ ëª¨ë“  ë‹¨ê³„ ì„±ê³µ', 'ok');
    document.getElementById('statusText').innerHTML='<span style="color:var(--primary)">ì™„ì „ ë³´ì•ˆë¨</span>';
    UI.visualizeMem('lock'); UI.setActiveStep(null);
    SecureVault.cleanup();

  } catch(e) {
    UI.log(`ì‹¤íŒ¨: ${e.message}`, 'err');
    document.getElementById('statusText').innerHTML='<span style="color:var(--danger)">ì‹¤íŒ¨</span>';
  } finally {
    btn.disabled=false;
  }
}

document.getElementById('runBtn').addEventListener('click', runSequence);
</script>
</body>
</html>